[[ZKP]]
## 1
> Определение категории. Понятие мономорфизма, эпиморфизма, изоморфизма. Понятия функтора и натуральной трансформации. Предел, копредел и примеры: терминальный объект, декартово произведение. Левый и правый сопряженные функторы.

### Пределы и сопределы категорий
будем говорить что конус в точке d это натуральная трансформация функторов. С => D — отображение функторов одного в другой.
![[Pasted image 20241208225112.png]]


![[Pasted image 20241208225525.png]]
натуральность трансформации дает нам свойство, что мы из d можем разными путями пройти в Db
может так получиться что для любой другой точки d' будет существовать единственный морфизм в d
по другому можно сказать: давайте возьмем все такие конусы и сделаем из них категорию. Если там будет терминальный объект, то он и будет пределом

предел функтора D — терминальный объект в категории конусов
![[Pasted image 20241208225713.png]]

**def** сопредел
делаем соконус, который действует в другую сторону. Это начальный объект
![[Pasted image 20241208225915.png]]
![[Pasted image 20241208230015.png]]




## 2
> Понятие группы и категории групп. Основные свойства групп (с доказательством) Определение нормальной группы, фактор-группы. Первая и четвертая теорема об изоморфизме групп.
### Подгруппы
H — подгруппа G $\iff$ она замкнута по операции (операция не выводит элемент из H)
H — подгруппа G $\iff$ $H \neq \emptyset$ и $\forall x, y: xy^{-1} \in H$ 

Если есть множество без операции и группа G, можно ввести на паре g, x новую операцию, совместимую с групповой. Это групповое действие.
1. $ex = x$
2. $(g_1g_2)x = g_1(g_2x)$

$(H, \cdot) \subseteq (G, \cdot), p_g : x \rightarrow gx \implies p_g$ биекция    

### Фактор группы
coset: $H \subseteq_G G$  $g \in G \implies gH$ — coset
$G / H = \{gH, g \in G\}$  
$g_1H \cdot g_2H = (g_1g_2)H$ 

нормальность группы $G$ ($gH = Hg, \forall g \in G$) позволяет ввести операцию на элементах фактор группы, это нужно для $g_1'g_2' = g_1h_1g_2h_2 = g_1g_2h_4$

### Гомоморфизмы
Отображение из одной группы в другую, которое сохраняет структуру групп
$(G_1, \cdot), (G_2, \circ)$ 
$\varphi: G_1 \rightarrow G_2$
$\forall g_1, g_2 \in G_1: \varphi(g_1 \cdot g_2) = \varphi(g_1) \circ \varphi(g_2)$ 

1. $\varphi(e_1) = e_2$
2. $\varphi(g^{-1}) = \varphi(g)^{-1}$
3. $H_1 \subseteq_G G_1 \implies \varphi(H_1) \subseteq_G G_2$ 

$\ker\varphi = \varphi(e_2)^{-1}$ 
$\ker\varphi \triangleleft G_1$ 

![[Pasted image 20240923182432.png]]
Гомоморфный образ группы изоморфен фактор группе по ядруг гомоморфизма


Берем несколько вложенных подгрупп, факторизацией сжимаем их в фактор группы. Есть теорема, которая говорит, что отношение взаимооднозначно, других фактор групп не появляется
![[Pasted image 20240923183029.png]]

### Категория групп
Объекты — группы
Морфизмы — гомоморфизмы между ними
- Существование натуральной трансформации это довольно сильное условие, не для всех функторов она существует;
- Можно ввести категорию на функторах из $C$ в $D$, морфизмами там будут натуральные трансформации;




## 3
> Свободный функтор, свободная группа, конечно порожденные группы и циклические группы. Свойства циклических групп (с доказательством). Теорема Эйлера (с доказательством)
### Конечно порожденная группа
Есть наименьшая подгруппа группы G которая порождает всю группу. Неконструктивно пересекаем разные подгруппы G, пересечение тоже будет группой, и со временем придем к минимальной

### Циклические группы
Хорошие группы, которые порождаются степенью одного элемента $\exists a \in G: \; <a> = G$ 
$ord(a) \in \mathbb{N}: \; a^{ord(a)} = e$  
**props**
- такая группа абелева
- любая подгруппа такой группы тоже циклична
- порядок порождающего элемента — мощность группы
- $ord(a^k) = \frac{ord(a)}{gcd(ord(a), k)}$ 
- $<a^k, a^m> = <a^{gcd(k, m)}>$ 

$\mathbb{Z}_n^{*} = \{k < n : \exists k^{-1} : kk^-1 = 1\}$ 
$x \in \mathbb{Z}_n^* \iff gcd(x, n) = 1$ 
$|\mathbb{Z}_n^*| = \varphi(n)$ 

![[Pasted image 20240930175655.png]]

### Fundamental theorem of finite abelian groups
$G$ — abelian group
$|G| = p_1^{\alpha_1} \dots p_n^{\alpha_n}, \; p\;—\;prime$ 

![[Pasted image 20240930180252.png]]
Любую абелеву группу можно представить в виде декартового произведения 




## 4
> Кольца, основные характеристики элементов колец. Основные типы колец, идеалы, типы идеалов и соотношение типов идеалов и фактор-колец. Определение поля, поля отношений. Китайская теорема об остатках и ее следствие для целых чисел (с доказательством). Понятие модуля.
### Кольца
Кольца это несовершенные поля (без обратного элемента по одной из операций)

$(R, +, \cdot)$ 
- $(R, +)\; - \; abelian \; group$ 
- $(xy)z = x(yz)$
- $x \cdot 1 = 1 \cdot x = x$
- distributivity

В кольцах будут жить все полиномы, в полях будут жить все числа. Нет такого понятия как обратный полином, поэтому полиномы достаточно поместить в кольца (без обратного элемента)

**на кольцах и полях можно ввести гомоморфизм**
- помимо сложения сохраняет умножение
- сохраняет единицу

теорема об изоморфизме верна и для колец и для полей

**идеал** — некий аналог нормальной группы для колец $I \subseteq (R, +) \; : \; \forall a \in R \; : \; aI \subseteq I, \; Ia \subseteq I$    если $I$ — идеал, то можем говорить о фактор-кольце $R/_I$ 
далее можем доказать, что если $\varphi$ гомоморфизм, то его ядро — некий идеал. Ровно точно так же как и с группой и нормальной группой. Там мы говорили, что ядро это нормальная группа. 
Та же суть с нормальной группой, что если 2 свойства идеала не выполняется, то фактор кольцо по идеалу плохо определена. Проблема возникает когда мы хотим чтобы $(a + I)(b + I) = ab + I$ 

I — идеал $I \triangleleft R$, если 
- $I \subseteq (R, +)$   
- $IR \subseteq I$ 
- $RI \subseteq I$ 

### Свойства идеалов
Сумма, умножение ($\sum_{i = 1}^n x_iy_i$), пересечение идеалов — идеал
Объелинение идеалов не идеал

1. Если а делит б, то делитель тоже в кольце
2. ...
3. u обратимый, если есть x, в произведении на него дающий 1. $R^*$ — все обратимые элементы $R$
4. $r$ — irreducible $\iff r \neq 0, r \notin R^*, r = uv \implies (u \in R^* \; \text{или} \; v \in R^*)$ 
5. $r$ — reducible, если он не ноль, не обратимый и не $R^{-}$ 

Все элементы кольца распадаются либо на **0**, либо на **обратимый**, либо на **приводимый** либо на **неприводимый** элементы

в $\mathbb{R}[x]$ $x$ — не приводимый, $x^2$ — приводимый

### Типы колец (сужаются):
1. Commutative Rings $ab = ba$ 
   Контрпример: Кольца матриц
2. Integral Domain (ID) $\forall a, b \neq 0 \implies ab \neq 0$ 
   Контрпример: $\mathbb{Z}_6$ 
   - $ab = ac \implies b = c$
   -     char $R = 0$ или char $R$ = prime
   - $a | b \iff (b) \subseteq (a)$
   - $I \triangleleft R, I = R \iff I \cap R^* \neq 0$ 
3. GCD domain (у a и b есть gcd)
4. Unique Factorization Domain (UFD) *Целостное кольцо* $\forall a \notin R^*, a \neq 0 \; : \; \exists ! a = a_1 \dots a_n, a_i \in R^-$
   У элементов есть разложение, единственное с точки зрения перестановки и вхождения обратимых элементов
   Контрпример: $\mathbb{Z}[\sqrt{-5}]: 2 \cdot 3 = 6 = (1 - \sqrt{-5})(1 + \sqrt{-5})$ 
5. Principal Ideal Domain (PID) *Кольцо главных идеалов* 
   Для любого идеала есть такой элемент в кольце, что $I = (a)$. Любой идеал может быть порожден одним элементом
   Контрпример:
6. Euclidean Domain $\exists N: R \rightarrow \mathbb{N}_0 \quad N(0) = 0, \forall a, b \neq 0 \exists q, r : a = bq + r$   есть норма, для действительных чисел — модуль, для полиномов — степень
7. Field: $R^* = R - {0}$
8. (*Отстраненно стоит*) Noetherian Ring
   Для любой последовательности вложенных идеалов есть некоторый номер, с которого идеалы схлопываются в один, стабилизируются. Мы не можем в таких кольцах взять бесконечную последовательность строго вложенных идеалов
   $a$ — noetherian $\iff$ любой идеал в этом кольце — конечно-порожденный


### Field of fractions *Поле отношений*
$R$ — ring
$\mathcal{F}(R) = \{\frac{a}{b} \quad a, b \in R\}$ 
$\frac{a}{b} \sim \frac{c}{d} \iff \exists t: t(ad - bc) = 0$ 

### Типы идеалов
1. Простой идеал $\iff I \neq R, \quad ab \in I \implies a\in I \; \text{или} \; b \in I$ 
2. Максимальный идеал $\iff I \neq R$ и если между этим идеалом и кольцом другого идеала не существует. 

- Любой идеал содержится в каком-то максимальном 
- Фактор кольцо $R/_I$ поле, $\iff$ идеал максимальный
- Фактор кольцо $R/_I$ интегральный домен, $\iff$ идеал простой
- Если идеал максимальный, то он и простой

### Полиномы
$p(x) = a_n^n + \dots + a_1x + a_0 \implies LC(p) = a_n$ 

**prop**
![[Pasted image 20241007181318.png]]
Деградация по структуре

### Обобщения колец
**Module:**  $M \in Mod_R$ (категория модулей над $R$), если
- $M$ — abelian group
- $R$ — ring
- $\cdot: R\times M \rightarrow M$ 
  $(ab)x = a(bx), 1 \cdot x = x$ — моноидные свойства 
  $(a + b)x = ax + bx$ — некая дистрибутивность раз
  $a(x + y) = ax + ay$ — некая дистрибутивность два

Еще чуть обобщение, очевидное, если вместо кольца в определении прошлой сущности взять поле, будет векторное пространство
**Vector space:** $M \in Mod_F, F$ — field

### Поля
Кольцо, где все элементы кроме нуля обратимы

Дадим расширение поля

 **Field Extension** $E/F$
тут просто кратко обозначается расширение с узкого поля в широкое

$F \subseteq E$, оба поля
Тогда сразу $E \in Mod/_F \quad F \times E \rightarrow E$ 
$[E : F] = dim_FE$ 


**Finitely generated ext**
$E/F$
![[Pasted image 20241007182424.png]]


**Algebraic closure**
Есть расширение, на нем строим замыкание.
Это множество элементов из широкого поля, для которых есть полином, где они корень
Еще такие элементы называют алгебраическими, а не такие трансцендентными
![[Pasted image 20241007183302.png]]





## 5 
> Определение расширения поля, степени расширения, конечно-порожденного расширения, минимального полинома, степени алгебраического элемента, алгебраического замыкания, поля разложения. Сущетсвования поля разложения (с доказательством). Теорема о расширении изоморфизма (идея доказательства). Алгебраически замкнутое поле.

### Расширение
- алгебраическое расширение поля это то, которое равно алгебраическому замыканию поля, содержащегося в нем
- минимальный полином для элемента: жлемент является корнем + старшая степень равна 1 ($p(\alpha) = 0, LC(p) = 1$) 
  все остальные полиномы будут им делиться
- $deg (\alpha) = deg (pol_F \alpha)$ 
![[Pasted image 20241014181341.png]]

### Splitting Fields
есть некое расширение, $p \in F[x]$  распадается в $E \iff p = u(x - \alpha_1)\dots(x - \alpha_n)$   -> $p || E$ 

$E / F, \quad p || E, \quad E = F(\{\alpha \in E : p(\alpha) = 0\})$ минимальное поле, которое содержит все корни данного полинома $F(||p)$ 

$F, \quad p \in F[x]$
- существует единственное поле разложения этого полинома
- степеньт расширения $[F(||p) : F] \leq (deg(p))!$

можем делать расширения полей на основе корней полинома
но не факт что полином будет представлен линейными множетелями

поле разложения полинома — такое расширение, в котором полином распадается на линейные факторы

1. такое поле существует
2. степень его расширения $\leq deg (p)!$  

### ISOMORPHISM EXTENSION THEOREM
если есть изоморфизм между полями, и есть некий полином — мы можем определить другой полином, коэффициенты в котором = коэффициенты исходного полинома под действием изоморфизма

теорема утерждает что есть изоморфизм между полями разложения исходного полинома и полинома сигма

причем действие изоморфизма на элементы поля первого равно сигма

исходный изоморфизм можно расширять в поля разложения так чтобы он совпадал с изначальным

**следствие** если берем поле разложение, оно существует и ежинственно с точностью до изоморфизма

### алгебраически замкнутое поле
**def** алгебраически замкнутое поле — одно из следующего выполняется
1. если есть алгебраическое расширение поля, то оно совпадает с полем
2. если есть конечное расширение поля F, то E = F
3. если есть расширение, значит множество алгебраических элементов = F
4. если есть полином с коэффициентами в поле F, то поле разложения этого полинома = F
5. есть есть полином с коэффициентами в поле F, то всегда существует корень в поле F
6. если p неприводимый полином, то его степень равна 1
говорит что мы не можем его расширять никакими алгебраическими расширениями, конечными расширениями, если есть расширение то все элементы алгебраически, любой полином распадается, всегда есть корень, степень равна 1

**def** алгебраическое замыкание поля
пусть есть поле $F$, тогда $\overline{F}$ — тоже поле, такое что $\overline{F} /_A F$ оно алгебраически расширяет $F$, и оно алгебраически замкнуто.

 есть утверждение, $\overline{F}$ всегда будет являться полем разложения всех полиномов $\overline{F} = F(|| F[x])$ 

**следствие** поле разложения существует и единственно, следовательно и алгебраическое замыкание существует и единственно, это некий предел расширения. Далее уже нерасширяемо.



## 6
> Определения эндоморфизмов, автоморфизмов, F-автоморфизмов, группы Галуа, нормального, сепарабельного расширений, расширения Галуа, совершенного поля. Критерии расширения Галуа, Основная теорема теории Галуа (без доказательства). Доказательство основной теоремы алгебры.

### Finite field
**prop** 
1. $char F = p$, простое
2. $|F| = p^n$
3. $F$ изоморфно $\mathbb{F}_p(|| x^{p^n} - x)$ 
4. $|F_1| = |F_2| \implies F_1$ изоморфно $|F_2|$
5. $F_1 / F_2, \; |F_1| = p^n, \; |F_2| = p^m \iff m | n$ второе поле есть подполе первого iff есть такая делимость
6. $F$ конечное поле, $G \subseteq F^* \implies G$ цикличная. 
   (G подгруппа мультипликативных элементов поля в частности вся мультипликативная группа поля циклична). Идея в том что мы можем применить основную теорему об абелевых группах и сказать что G изоморфна $\mathbb{Z}_{p_1^{\alpha_1}}  \times \dots \times$  

если есть целостное кольцо, интегральный домен которым является поле, у него характеристика либо простое число либо ноль, у конечного поля характеристики ноль не может быть, следовательно единственный вариант что характеристика простое число


### Galois group

**def** $E/F, \; Gal[E/F] := \{\sigma: E = E, \sigma|_F = 1\}$ 
группа Галуа конкретного расширения поля это множество автоморфизмов (изоморфизмы между собой), но с ограничением, что если мы возьмем автоморфизм и ограничим в себя, то это будет единичным отображением. 
групповая операция там — композиция

**prop** $E_1/F, \; E_2 / F, \; \varphi : E_1 \rightarrow E_2, \; \varphi |_F = 1$  берем 2 расширения и гомоморфизм такой чтобы сохранялось свойство для групп Галуа

1. это гомоморфизм модуля над F
   если поле F фиксируется, мы этот гомоморфизм полей можем рассматривать как гомоморфизм векторных пространств. Модуль в данном случае то же самое что векторное пространство.
   $\varphi \in HOM_{mod_F} (E_1, E_2)$ 
2. $E_1 = E_2, \; [E_1 : F] < \inf \implies \varphi$ изоморфизм
   гомоморфизм полей он всегда инъективный, но размерность пространств конечный, следовательно ничего кроме биекции быть не может
3. Если p полином с коэффициентами в F, то $\varphi(p(x_1\dots x_n)) \; x_i \in E \implies p(\varphi(x_1\dots x_n))$  Гомоморфизм там все фиксирует, коэффициенты там никак не меняются, а гомоморфизм там ходит $\varphi(x^n) = \varphi(x)^n$ 

![[Pasted image 20241208182602.png]]
с этими коэффициентами можно доказать, что если у нас есть $F, \; |X| < \inf \implies \sigma, \tau \in Gal(F(X)/F), \; \sigma|_X = \tau|_X \implies \sigma = \tau$ элементы группы Галуа определяются полностью действием на множестве X, которым мы расширяем поле. Если на нем они совпадают, то они там совпадают полностью

действие сигмы на корнях альфы это некая биекция этих корней. автоморфизмы из группы Галуа, если берем какой-то полином, то они просто переставляют его корни. Если там будем брать расширение полиномов, эти автоморфизмы определяются действием на корень. Корень может отображать только в другие корни

**def** фиксированное поле. Хотим установить соответствие между расширениями и группами Галуа. Имея некое расширение можем сказать как выглядит его группа Галуа. Сейчас хотим обратное действие. Имея поле и группу хотим сказать как выглядит расширение

![[Pasted image 20241208191411.png]]

берем группу автоморфизмов и смотрим какие элементы в поле E она фиксирует. Ну и такие элементы образуют поле меньшее чем E (это некая фильтрация элементов из E). Если берем тривиальную группу (один единичный автоморфизм), то эта штука будет равна всему полю. Но чем больше делаем группу H тем меньше становится это поле.
Gal: F $\rightarrow$ G
Fix: G $\rightarrow$ F

мы хотим взаимооднозначное соответствие между группами и полями, но на самом деле это не всегда так, 
хотим Gal(Fix(H)) = H, Fix(Gal(F)) = F но на самом деле это не всегда так. Для некоторых расширений может фиксироваться больше чем F
когда только тривиальный автоморфизм в группе Галуа, обратно будем получать поле чуть шире, чем исходное.
если не все корни лежат в расширении, группа автоморфизмов бедная чтобы сделать обратный маппинг
второй тонкий случай, когда корней вроде бы хватает, но эти корни совпадают, а группа автоморфизмов все еще бедная

### расширение Галуа
**def** расширение Галуа
ну если фиксирует исходное поле, то это хорошее расширение
![[Pasted image 20241208192147.png]]

есть 2 расширения когда нужные свойства не нарушаются. (они все алгебраические)
![[Pasted image 20241208192343.png]]
1. сепарабельное: у полинома нету повторяющихся корней в поле разложения. Если корень повторяется то расширение не сепарабельное
2. нормальное: есть некий полином, такой что E это поле разложения некого полинома

**prop** E — нормальное iff есть некий полином, который является неприводимым и у него есть корень в поле E, тогда он полностью распадается.
Нету неприводимых полиномов, которые распадаются частично. Либо полностью либо никогда.

**prop** расширение является расширением Галуа iff оно является сепарабельным и нормальным.
![[Pasted image 20241208192551.png]]

нас не часто интересует свойство сепарабельности, потому-что есть идеальное поле. Поле идеальное, если любое алгебраическое расширение является сепарабельным. Но нормальность более тонкое свойство которое не всегда выполняется
Можно показать что самые частые поля идеальные
![[Pasted image 20241208192715.png]]

### фундаментальная теорема теории Галуа
**thm** фундаментальная теорема теории Галуа

можем строить биекцию между полями и группами
есть биекция между ними
![[Pasted image 20241208193041.png]]
![[Pasted image 20241208193154.png]]




## 7
> Локальное кольцо, радикал идеала, кольцо дискретных нормирований и критерий этого кольца. Локализации. Градуированные кольца.
### Коммутативная алгебра
**def** локальное кольцо
если существует единственный максимальный идеал
- если кольцо локальное, то можем определить единственным образом поле над ним
- если есть M модуль над кольцом R. и есть идеал, то mM будет подмодулем M. И фактор модуль M/mM хорошо определен 
![[Pasted image 20241208222049.png]]
![[Pasted image 20241208222118.png]]
**prop** если R локальное кольцо и M это модуль над R, то фактор модуль M/mM понятно что модуль над R, но он также будет модулем над R/m
в частности m^k / m^k+1 это модуль над R/m

**def** радикал (корень) идеала
идеал чуть шире, он еще и включает в себя элементы которые в какой-то степени туда попадают
![[Pasted image 20241208222314.png]]

**def** размерность кольца
![[Pasted image 20241208222336.png]]
длина самой длинной цепочки строгих включений

простой идеал: если произведение в идеале то либо один либо второй множитель в идеале. Это свойство простого числа если смотреть в идеалах целых чисел

**def** кольцо дискретных нормирований
R коммутативное кольцо, рассматриваем некую функцию v, которая действует из поля отношений над R в целые числа
поле отношений: берем кольцо, рассматриваем рациональные дроби в нем, говорим что все сократимые дроби эквивалентны. Поле отношений — минимальное поле которое содержит такие дроби над R

v(xy) = v(x) + v(y)
v(x+y) >= min(...)
просто существование функции недостаточно, важно, чтобы само кольцо совпадало с теми элементами поля отношений обратимыми

если такие свойства есть, то R кольцо дискретных нормирований.

![[Pasted image 20241208222818.png]]
будем рассматривать отношения полиномов, мера отношения будет разницей степеней
![[Pasted image 20241208222852.png]]
это сильное свойство, оно дает много ограничений в структуру кольца

**prop** ограничения: кольцо будет локально, нётерово, и будет размерности 1
**prop** критерий: пусть выполняется что R локально, нётерово и размерность = 1, тогда следующее эквивалентно
- R — кольцо дискретных нормирований
- существует элемент x из R такой что максимальный идеал порожден элементом x
- размерность по полю F m/m^2 = 1
- если есть ненулевой идеал и не равен R тогда есть n такое что I = m^n 
- существует элемент x из R такой что для любого ненулевого и нетождественного идеала существует n I порождается x^n
![[Pasted image 20241208223211.png]]
![[Pasted image 20241208223410.png]]



**def** кольцо отношений
![[Pasted image 20241208223620.png]]

это тоже самое что поле отношений но в рамках выделенного множества, части S кольца R. Там должна быть 1 и оно должно быть замкнуто. Тогда можем записать множество рациональных дробей, и определить сократимость с точностью до t, t это техническая деталь для нецелостных колец

хотим рассматривать отношения двух элементов, но в кольце это не всегда хорошо, потому-что могут быть нули в знаменателе
![[Pasted image 20241208223942.png]]

**def** градуированные кольца
![[Pasted image 20241208224226.png]]
будем говорить что градуированное кольцо — кольцо полиномов и градация идет по степени полинома
![[Pasted image 20241208224500.png]]
если в одном полиноме разные степени то он не может быть однородным идеалом


## 8 
> Определение топологического пространства и подпространства, неприводимого пространства, неприводимого множества. Определение sheaf, stalk. Категория sheaf, функторы pullback и pushforward. Определение афинной схемы, морфизмов морфизмов афинных схем. Определение проективных схем.


### Топология

**def** есть множество и есть множество его подмножеств, у него есть определенные свойства
![[Pasted image 20241208230523.png]]
![[Pasted image 20241208230629.png]]
![[Pasted image 20241208230748.png]]

пространство неприводимое если мы не можем разбить его на два закрытых множества которые не равны этому пространству каждое а с другой стороны дают в объединении все пространство
![[Pasted image 20241208230924.png]]
множество неприводимое когда топологические пространство неприводимое
![[Pasted image 20241208231012.png]]

размерность топологического пространства — максимальная длина цепочки строгих вложений неприводимых закрытых множеств
![[Pasted image 20241208231041.png]]

топологический базис — коллекция открытых множеств, такая что любое открытое множество можем представить в виде объединения Bi этого базиса. Наверное как борелевская сигма алгебра
![[Pasted image 20241208231209.png]]

![[Pasted image 20241208231333.png]]
непрерывная функция — для любой окрестности, существует дельта окрестность так что прообраз туда уходит

### Sheaf (связки, пучки, отростки)
кольцованное пространство
мы хотим взять некое топологическое пространство и на нем определить множества функций на открытых множествах нашей топологии, построили функтор из категории открытых множеств строгих по включению в категорию колец
- он контринвариантный
- он обладает свойством склейки
Sheaf это структура где вместо колец могут стоять группы, другие множества
Это вещь которая определена на всех открытых множествах

![[Pasted image 20241208231933.png]]
закольцованное пространство это частный случай Sheaf ...
хотим определить функции на топологическом пространстве, функции чаще всего складываются в кольца. В топологическом пространстве рассматриваем открытые множества
Что такое категория Poset(X, T) — категория частично упорядоченных множеств. Есть морфизмы если есть строгое включение
![[Pasted image 20241208232130.png]]
переход из топологии в категорию

есть категория колец и мы делаем некое отображение из U_i в объекты категории колец. Функтор который это делает называется Ox и это контринвариантный функтор, он морфизмы отображает в другую сторону
![[Pasted image 20241208232233.png]]

берем любое открытое множество и сопоставляем ему некое кольцо. На каждом подмножестве создаем кольцо функций.
Но у нас есть структура чуть больше

если есть множество включенное в более широкое, тогда множество функций широкого можем гоморфизмом отобразить на функции более узкого множества. Задаем некое сужение. Функции которые определены на U1 можем всегда отобразить на функции маленького множества U2.

есть последнее страшное свойство склейки. Берем открытое множество U и берем его разбиение на другие открытые и на каждом открытом множестве определяем функции f_i

![[Pasted image 20241208232735.png]]
если есть f1 там и f2 там, а на пересечении они совпадают, то свойство склейки требует (утверждает) что на объединении U существует единственная f такая что когда мы ее будем проектировать на U1 и U2 она будет совпадать соответственно с f1 и f2

### Stalk at point p
Локализация Sheaf
классы эквивалентности состоящие из функции и некой ее окрестности
эквивалентно когда существует подмножество пересечений двух окрестностей, такое что сужение на этом подмножестве равно сужению на f2
![[Pasted image 20241210182505.png]]

**prop** эту же вещь можно определить как сопредел по окрестностям, которые содержат точку p

мы всегда можем для двух вложенных множеств с помощью Sheaf сделать сужение одного множества на другое. Но в результате сужения могут появиться еще функции.
Тут мы говорим о том что берем предел окрестностей, в пределе получается некое кольцо 
![[Pasted image 20241210182642.png]]

#### как устроены морфизмы между sheafами
**def** push forward
два пространства с шифами, морфизм между топологиями

пуш форвард — пространство с отображением из открытых множеств в кольца
![[Pasted image 20241210183247.png]]

![[Pasted image 20241210183632.png]]
![[Pasted image 20241210184249.png]]
таким образом мы задаем мы задаем отображение между двумя топологическими пространствами с шифами
есть морфизм топологических пространств, а натуральная трансформация в кольцах идет в обратном направлении

**def** $\varphi^* - pullback$ — левосопряженный функтор к pushforward
![[Pasted image 20241210184515.png]]
![[Pasted image 20241210184623.png]]
- берем надмножество образа и делаем предел надмножеств — чтобы обойти то, что открытое множество непрерывной функцией может отобразииться в закрытое
- SH — шификация, это минимальный шиф, который содержит все эти штуки
такая штука существует, ее не так просто построить как обратную

в одну сторону $\varphi^{\#}$  легко строить, а $\varphi_{\#}$ можно но сложно


Как из произвольного кольца сделать геометрическую схему, в которой будут определены некоторые функции?

### Affine Schemes
А — кольцо функций

 **def** спектр — все простые идеалы кольца. Простые идеалы — кирпичик из которого строится структура кольца. В кольце целых чисел простые идеалы — простые числа, любые числа могут быть представлены как произведение простых.
 ![[Pasted image 20241210185421.png]]
как мы определим значение функции в точке, f это элемент кольца, точка — идеал?

![[Pasted image 20241210185546.png]]

**def** исчезающее множество — множество точек, на котором все функции множества S одновременно исчезают
![[Pasted image 20241210185730.png]]

**def** Топология Зариского — берем какое-то множество функций, посмотрим где оно равно нулю, эти и только эти функции будут закрытыми в этой топологии
![[Pasted image 20241210185802.png]]

**prop** спектр будет контринвариантной функцией из колец в топологии. Говорит о том что мы для любого кольца построили топологию на этом кольце и это является контринвариантным функтором
![[Pasted image 20241210185923.png]]
![[Pasted image 20241210191454.png]]

топологию мы задали, какой шиф будет на этой топологии?
**def** базис Топологии Зариского
![[Pasted image 20241210191652.png]]
можем определить наши шифы на этом базисе, откуда будет следовать, что мы определили наши шифы на всей топологии
![[Pasted image 20241210191814.png]]
берем локализацию $S^{-1}A$ локализация — это когда мы элементы этого множества S можем ставить в знаменателе. Какие логично поставить элементы в знаменатель функции множества $D(f)$? Можно поставить f, так как на нем она в ноль не обращается, но есть еще функции — такие, нули которых есть внутри нулей f.
отсюда мы получаем шиф

**def** Affine Scheme
![[Pasted image 20241210192346.png]]

построили топологию, используя спектр, на ней определили шиф и все что с точностью до изоморфизма этой конструкцией описывается — называется Афинной Схемой

**def** Scheme
![[Pasted image 20241210192524.png]]

**def** Projective Schemes
возьмем градуированное кольцо, определим что $S_{+}$ это иррелевантный идеал. Он очень похож на $S_{\cdot}$ по некоторым свойствам, но мы его хотим исключить.
![[Pasted image 20241210192753.png]]

![[Pasted image 20241210192906.png]]
D(a) определили чтобы определить шиф на этой схеме
![[Pasted image 20241210193014.png]]
хотим построить новое кольцо и взять от него спектр. Берем градуированное кольцо и делаем его локализацию в точке f, у нас появляются новые элементы $\frac{g}{f^k}$ степень однородности числителя должна бять равна степени однородности знаменателя.



## 9
> Определение кривой и несингулярной кривой. Критерий несингулярности и структура stalks для несингулярной кривой. Свойства размерности колец и пространств. Степень рационального отображения и свойство сюрьективности.

### Кривые
теперь вместо произвольного кольца А рассматриваем полиномы нескольких переменных, считаем что коэффициенты принадлежат алгебраически замкнутому полю (комплексное, замыкание конечного)
простое следствие: А — нётерово и целостное кольцо
![[Pasted image 20241211195604.png]]
схема С порождается неким простым идеалом I из кольца A. В этом случае можем взять кольцо С как фактор кольцо и из него вывести схему. Самое главное чтобы размерность такого кольца (макс цепочка строго вложенных простых идеалов в кольце) = 1

![[Pasted image 20241211195740.png]]
равенство эквивалентно тому что f содержится в идеале p, а множество всех f из кольца, которые содержатся в идеале p это и есть идеал p


![[Pasted image 20241211195834.png]]
если p геометрическая точка, под точкой всегда будем подразумевать именно геометрическую (p — максимальный идеал, они соответствуют нашим привычным геометрическим точкам, но есть какие-то обобщения)
в этом случае фактор кольцо будет изоморфно (по-сути являться) полем

**def** p — несингулярная (гладкая точка) для некой схемы X которая порождается идеалом I, если ранк матрицы = n - dim X
![[Pasted image 20241211200133.png]]

можно доказать что точка несингулярна iff размерность модуля по полю F замыкание = dim X = dim spec X = dim Ox,p (размерности кольца стоков)
![[Pasted image 20241211200307.png]]
**prop** если С кривая, а р несингулярная точка, тогда Ox,p сток — кольцо дискретных нормирований
сток в нашем определении схемы это отношение функций f и g, которые входят в кольцо С и $g(p) \neq 0$ 
![[Pasted image 20241211200456.png]]
С будем обозначать и кольцо и множество точек
в знаменателе функции которые хорошо определены

утверждается что наш сток это Cp — локализация кольца С по идеалу p
конечное следствие несколько лекций назад — из всех штук сразу следует что это DVR

понятно что поле отношений над C = поле отношений над стоком
![[Pasted image 20241211201104.png]]
делим дробь на дробь получаем дробь

![[Pasted image 20241211201135.png]]
если C это DVR, можем взять дискретную меру оттуда, можем сказать что порядок функции f в точке p (порядок нулей в числителе - порядок нулей в знаменателе) есть мера этой функции

![[Pasted image 20241211201440.png]]
если C несингулярная кривая (каждая точка несингулярная) и f это некая функция в поле отношений не тождественный 0
тогда количество точек в которых порядок этой функции отличный от 0 — конечное
точек где порядок функции отрицательный нет $\implies$ f константная функция

**ебучий пример**
все порядки суммируются в 0, для функции на несингулярной кривой сумма порядков равна нулу



## 10
> Порядок функции в точке, индекс излома (ramification index). Дивизор, степень дивизора. Pullback, pushforward дивизоры и их свойства (с доказательствами). Степень дивизора функции (с доказательством)

### Divisors
кривая определяется полиномами с коэффициентами над полем F
![[Pasted image 20241212224229.png]]
любое открытое множество плотное. закрытые множества это кривые или точки — меньшей размерности типа
значит можем рассматривать отображения между двумя пространствами за исключением небольших закрытых множеств
![[Pasted image 20241212224421.png]]
можем рассматривать такие отображения, эквивалентны когда сужения на открытом (пересеченном) множестве совпадают
некая функция которая определена почти везде


если рассматриваем рациональное отображение и эти 2 кривые несингулярны, то может быть 2 случая, либо отображение константа либо оно сюръективное
![[Pasted image 20241212224516.png]]
можем дать определение степени отображения фи двух кривых
![[Pasted image 20241212225419.png]]
![[Pasted image 20241212225441.png]]

дивизор — формальная сумма по точкам кривой, точка на некое целое n_p, с тем ограничением, что количество ненулевых целых чисел конечно
![[Pasted image 20241212225551.png]]
зачем? если рассмотрим полином 1 переменной степени n, если зададим n значений этого полинома, то мы этот полином определим однозначно.
хотим получать описание функции, в частности будем смотреть описания там где функция принимает нули

![[Pasted image 20241212225718.png]]
можем определить группу всех дивизоров
можем определить степень дивизора как сумму коэффициентов
дивизор функции — коэффициентами будут порядки функции в этих точках. Порядок это как раз целое число, количество точек там где он не ноль конечное, будет валидный дивизор.

дивизор f = 0 iff функция константная и не тождественный ноль
![[Pasted image 20241212230203.png]]
индекс ветвления: есть рациональное отображение, он определяется в точке p из C1. Определяется хитро: берем какую-то функцию, которая принадлежит шифу (является регулярной), ее порядок в точке фи от пэ равен 1, делаем pullback этой функции и смотрим чему равен ее порядок в точке p
![[Pasted image 20241212230328.png]]
порядок в точке — степень нулей. там где не ноль степени брать не надо

если есть рациональное не константное отображение и есть точка на второй кривой и если мы просуммируем индексы ветвления всех прообразов этой точки то мы получим степень отображения 
![[Pasted image 20241212230639.png]]

рассмотрим pullback/pushforward дивизора
![[Pasted image 20241212230714.png]]


![[Pasted image 20241212230807.png]]


![[Pasted image 20241212231048.png]]
степень дивизора любой функции равна 0
используя это свойство можем доказать что на самом деле дивизоры которые являются дивизорами каких-то функций образуют группу. Причем это подгруппа дивизоров нулевой степени исходя из свойства. Понятно что эти группы абелевы, можем рассматривать фактор группы. И вот такая фактор группа всех дивизоров по главным дивизорам (дивизор некоей функции) будет группой Пикарда. Можем рассматривать и группы Пикарда нулевой степени, которая рассматривает дивизоры нулевой степени, потому-что все главные дивизоры имеют нулевую степень (по свойству.)
![[Pasted image 20241212231248.png]]
![[Pasted image 20241212231503.png]]
пространство функций, ненулевых и таких, что в сумме с дивизором D получим число $\geq 0$
несложно понять что это векторное поле конечной размерности и с точностью до дивизора какой-то функции размерность не меняется



## 11
> Теорема Римана Роха и ее следствие (с доказательством). Эллиптическая кривая, представимость эллиптической кривой в форме Вейерштрасса (идея доказательства)

### thm Римана-Роха
C — проективная кривая
D_w — дифференциальный дивизор, можем считать что это некий дивизор из фиксированной группы Пикарда. Нам не сильно важно какой именно этот дивизор, будем говорить о размерности, если принадлежит сомножеству группы Пикарда, нам не важно какой, можем брать любой оттуда

существует число g неотрицательное, такое что для любого дивизора на этой кривой выполняется равенство
![[Pasted image 20241212231919.png]]
это число называется генусом кривой

важно следствие: если степень дивизора ..., то размерность пространства ...
![[Pasted image 20241212232002.png]]
L(0) — набор таких функций, у которых нет полюсов, его размерность равна 1




### Elliptic curve
это проективная несингулярная кривая с g = 1 (genus, число из теоремы Римана-Роха) и выделенной точкой О на этой кривой, которая для нас будет представлять 0 в группе точек эллиптической кривой

если E эллиптическая кривая, значит она изоморфна некоей кривой C на проективной плоскости. которая порождается уравнением ...
![[Pasted image 20241211205744.png]]

будут интересовать два инварианта. В обратную сторону не всегда верно, E несингулярна в форме Вейерштрасса, если $\delta \neq 0$. Две кривые изоморфны, если у них равны J инварианты. Более того, для любого J инварианта можно найти эллиптическую кривую
![[Pasted image 20241211210259.png]]

![[Pasted image 20241211210315.png]]
группа которой изоморфна группа точек эллиптической кривой это группа пикарда степени 0, это дивизор степени ноль фактор группа по главному дивизору (дивизору всех функций)
def D1 изоморфен D2 если они отличаются на какой-то дивизор какой-то функции 
![[Pasted image 20241211211050.png]]


![[Pasted image 20241211211205.png]]

![[Pasted image 20241211211552.png]]




## 12
> Критерий для главного дивизора на эллиптической кривой (с доказательством). Оценка Хассе для количества точек на эллиптической кривой (с доказательством)

### Главный Дивизор
если есть дивизор на эллиптической кривой то он главный iff он дивизор нулевой степени и сумма всех точек npP = 0
![[Pasted image 20241211211739.png]]

**def** изогения — морфизм эллиптических кривых
![[Pasted image 20241211211909.png]]

если есть сепарабельный морфизм то количество точек его ядра равно степени этого морфизма. Ядро морфизма — прообраз точки О, а степень это сумма с прообраза на индексы излома, тк отображение сепарабельное то прообразы не пересекаются из ровно столько сколько степени отображения
![[Pasted image 20241211212008.png]]
есть неравенство Коши-Шварца, справедливо для положительно определенных квадратичных форм. Степень морфизма как раз будет такой формой, следовательно для нее оно будет верно

### оценка Хассе
**def** оценка Хассе на количество точек Эллиптической кривой. Если замкнем даже конечное поле, то оно будет бесконечным, как и количество точек ЭК. Если рассматриваем рациональные точки, координаты которых лежат в поле, там количество точек конечно, хотим узнать сколько. Можем оценить квадратом, но это грубо
![[Pasted image 20241211212257.png]]
несмотря на то что координаты 2, порядок +- гуляет вокруг одной степени q

![[Pasted image 20241211212339.png]]
эндоморфизм фробениуса, проверяем какие-то свойства
ро — инъективный морфизм потому-что действует из поля
эф — конечное
значит это что-то биективное

значит морфизм ро принадлежит группе Галуа

значит до ро в степени эн тоже все будет в группе Галуа

![[Pasted image 20241211212531.png]]

группа Галуа порождена морфизмом ро и идет до эн-1, далее циклическая группа

душное доказательство



## 13
> Торсионные группы на эллиптических кривых, структура торсонных подгрупп. Степень встраивания. Торсионные подгруппы образа следа и ядра следа.

### Торсионные группы
группы отображения

определим m которая отображает кривую в себя же
важно, что это отображение задается на группах, но на самом деле оно же будет и морфизмом между этими кривыми

степень этого морфизма = m^2
морфизм сепарабельный, если характеристика F не делит m
![[Pasted image 20241212002545.png]]

**def** торсионная группа порядка m, это по-сути ядро выше определенного отображения
![[Pasted image 20241212002626.png]]

**prop** если E ЭК, Р характеристика поля F какое0то простое
в этом случае торсионная группа изоморфна такому произведению


теперь хотим понять структуру подгрупп торсионной группы
хотим найти все подгруппы штуки которой изоморфна торсионная группа
- понятно что есть 2 тривиальные
- порядок группы rr, поэтому можем рассматривать подгруппы порядка r, а r простое, значит подгруппы циклические, значит порождаются неким элементом

![[Pasted image 20241212002915.png]]
![[Pasted image 20241212003125.png]]
вот выписали r+1 подгруппу и утверждается, что это все подгруппы нашей торсионной группы

теперь рассматриваем какое-то поле, рассматриваем фробениус какой-то степени на этом поле
наша торсионная группа — подгруппа эллиптической, но не факт что является эллиптической подгруппой, определенной над поле Fq
тут какие-то лепестки, могут входить, иметь рациональные точки, а какие-то могут не входить — быть в замыкании

### def степени встраивания
минимальное к, при котором выполняется одно из следующих
![[Pasted image 20241212003425.png]]

если r делит порядок группы, можем рассмотреть подгруппу G порядка r (а значит будет выполняться rg = 0), это будет один из лепестков
![[Pasted image 20241212013050.png]]

trace берет все автоморфизмы группы Галуа и делает сумму в точке р — это сумма всех фробениусов в точке
если точка рациональна, то фробениусы фиксируют эту точку. Поэтому если точка в G1, то отображение trace туда же ее отобразит
![[Pasted image 20241212013127.png]]


если фробениус будет действовать на образ, то получим такую сумму которая равна изначальной суммы. На элемент фи эль умножили все автоморфизмы группы Галуа — получили ту же самую группу. 
любой автоморфизм группы Галуа на образ этой точки образ этой точки фиксирует, это означает что образ торсиона будет группой G1 из рациональных точек
G1 — группа образа следа
![[Pasted image 20241212013023.png]]

можем построить антислед. Тк это гомоморфизм, ее образ будет торсионной подгруппой
![[Pasted image 20241212013319.png]]
G2 — группа ядра следа
для этих двух групп примечательно что в первой рациональные точки, поэтому $\varphi(p) = p$, 
в каком-то смысле это пространство собственных векторов с собственным значением 1

а для второй выполняется что $\varphi(p) = [q]p$ если нам нужно умножить на q можем заменить это возведением в степень



## 14
> Сопряжения Вайля и его билинейность (с доказательством). Сопряжения Тейта. Вычисления сопряждения Вайля и Тейта. Алгоритм Миллера.

### введение
рассмотрим некое поле F с характеристикой p и натуральное m. p не делит m

рассмотрим точку Q из торсионной группы
для этой точке будет существовать некая функция, дивизор которой равен ...
степень дивизора равна 0, а сумма равна 0
iff выполнено, поэтому такая функция есть

рассмотрим дивизор, котораы будет пуллбэкQ - пуллбэкO

\[m\] сепарабельное, степени излома = 1
а также не константное, значит сюръективное, значит есть точка mQ_m = Q

прообраз точки O будет весь торсион по определению торсиона
прообраз Q будет Qm + торсион, получаем по-сути некую фактор группы

тогда дивизор такой запишется в виде суммы
его степень = 0
посчитаем сумму, она будет 0 (m^2 элементов, mQ = 0 тк из торсиона), значит дивизор главный, значит есть функция g такой что ее дивизор будет D
![[Pasted image 20241213201313.png]]


чему равен дивизор степени m, = mD
с другой стороны дивизор пуллбэка m 
эти 2 штуки равны, тк вещи коммутируют, можем просто как двойную сумму переставлять

из этого следует что дивизор дроби будет 0
иными словами композиция = константе умноженной на g^m

помним что g подбирали исходя из дивизора, значит определена с точностью до константы, значит с можем положить 1

рассмотрим другую точку P из торсиона и точку эллиптической кривой, подставим в дробь
получим 1
![[Pasted image 20241213201736.png]]


рассмотрим теперь морфизм из кривой E на проективную прямую, которая точку X будет отображать в это частное
у этого морфизма образ содержит не более m точек, тк выполняется = 1, значит максимум будут корни из 1, количество которых ограничено

значит морфизм не будет сюръективным, а значит будет постоянным (вторая опция для морфизмов на кривых)
значит для любого X вот такое частное не будет зависеть от X и он будет неким корнем m степени из 1 в нашем поле
![[Pasted image 20241213201955.png]]


### **def** сопряжение Вайля
![[Pasted image 20241213202041.png]]

отображение декартова квадрата торсиона в корни m степени из 1
есть ряд приятных свойств
![[Pasted image 20241213202148.png]]

любой автоморфизм Галуа коммутирует с e_m
если есть торсион с m1, m2, то ...
если для любого S из торсиона ...

### сопряжение Тейта
рассмотрим поле, k степень встраивания
![[Pasted image 20241213202342.png]]
сопряжение Тейта отображает торсион над полем q^k на фактор группу в корни m степени из 1
степень встраивания такая, что это группа имеет смысл
берем P, Q, считаем сопряжение Вайля, а вместо второго аргумента ставим ... rR = Q, поэтому возникает фактор группа, у нас там не одно решение

показываем что точка во втором аргументе входит в торсион, чтобы определение было хорошо определено
![[Pasted image 20241213202701.png]]


![[Pasted image 20241213202717.png]]
есть алгоритм расчета спариваний
определим supp, sum для D
можем определить вычисление функции в дивизоре
если будет пересечение эта штука уйдет в 0 и основная информация потеряется


![[Pasted image 20241213202909.png]]
если 2 точки из торсиона
2 дивизора
и не пересекаются в интересных точках

можем вычислить...

![[Pasted image 20241213203911.png]]
модификация сопряжения Тейта


### алгоритм Миллера
для вычисления в конкретной точке
делаем 2 дивизора чтобы рассмотреть рекурсивное соотношение




## 15
> Быстрое преобразование фурье, Пороговые цифровые подписи BLS. Коммитменты полиномов на эллиптических кривых.

### Быстрое преобразование Фурье
Для конечных полей

Хотим полином преобразовать в форму значений (точки омега, генератор циклической группы порядка d, w^d = 1). d+1 значение полинома — полином однозначно определяется.
Эта форма хороша потому-что в ней тривиально делается умножение полинома: в каждой точке перемножаем полиномы.

Рассматриваем группу катых корней из 1
Каждый корень позводим в квадрат, режем количество элементов

Полином представляем как сумму полиномов: группируем четные степени в один полином, а нечетные в другой

Если есть значение на H k/2 то за d шагов можем вычислить значение в x за O(d)
![[Pasted image 20241217000248.png]]
разделяй и влавствуй
за счет того что выбрали множество корней из 1, которые сокращаются пополам, получаем сложность 
d * log(d). Работает и в обратную сторону, если берем ...


### Polynomial commitment scheme
Есть третий участник — оракул, который получает от доказывающего полиномы, а проверяющий может что-то у оракула спрашивать.
Хотим дать проверяющему некое значение для полинома так, чтобы не могли менять задним числом сам полином.
![[Pasted image 20241217001311.png]]
![[Pasted image 20241217001408.png]]
![[Pasted image 20241217002747.png]]
альфа это случайный параметр который никто не знает. Доказали что полиномы равны в случайной точке, вероятность этого <= d/p (p — размер поля). Параметр d делаем условно небольшим (2^20), а p 2^256, поэтому будет астрономически малая вероятность

### zk Polynomial commitment
![[Pasted image 20241217003741.png]]
если мы знаем \[f\] = \[g\] , то можем сравнить f с полиномом g
есть zk модификация, со случайными множителями, шумом.
вместо одного доказательства отправляем 2

этот коммитмент хорош тем что за одно вычисление сопряжения можем доказать, что все полиномы равны каким-то значениям в этих точках
![[Pasted image 20241217003952.png]]
![[Pasted image 20241217004044.png]]





## 16
> Cхема работы протокола PLONK: арифметизация, протокол создания и проверки доказательства с нулевым разглашением.

### PLONK
![[Pasted image 20241217004251.png]]

![[Pasted image 20241217004310.png]]
- программу привели в схему
- нумеруем все проводки, которыми соединяются гейты. Ограничение что каждый из проводов на входе то же самое что на выходе. На вход подаем сколько нужно, выходов сколько угодно
- когда проводим вычисления знаем как доказывающий что было на всех проводках
![[Pasted image 20241217004504.png]]
- для каждого из гейтов говорим: на входе было то и то, а на выходе это. Записываем все в табличку.
  то же самое и для входных параметров
- хотим взять вектор и домножить его на другие вектора тензорно.
- хотим доказать что произведение = 0
- можем сказать: гейт 1 это сложение, подобрать такие q
  гейт 2 это умножение, подобрать q
  ...
- получаем табличку из q. Имеем программу, фиксируем 1 раз в момент создания. Для нее табличка фиксируется, меняются входные параметры только.
- если докажем равенство, то докажем что корректно рассчитали все значения
- наконец хотим доказать что часть инпутов тоже правильно расчитана: подали то что нужно на то что нужно. Как проверяющий будем вычислять этот вектор каждый раз в PI

далее применяем трюк: не будем доказывать что все выполняется как вектор. Представим что это некий полином, который вычисляется на значениях корней из 1. Докажем не векторное равенство, а то что на значениях корней из 1 полиномы связаны таким соотношением.

Число r, у него мультипликативная группа она хорошо делится на 2 (BLS)
Нужно много корней степени 2, чтобы мы могли сделать аппроксимацию и сделать ее быстро с помощью FFT.
Почти за линейное время из вектора можем получить полином который ему соответствует


![[Pasted image 20241217005225.png]]
- рассматриваем полином
- отсылаем проверяющему такие коммитменты (маленькие, это точки на EC)
- проверяющий вычисляет PI простым способом, индикатор одной точки на множестве, равен нулю везде кроме w^i.
- доказывающий хочет показать что на любой точке корней полином = 0
- вычисляет PI и h...
- отсылает коммитмент проверяющему
- проверяющий берет рандомную точку из F_p, просит у доказывающего вычислить полиномы коммитментов в этой точке
- проверяет соответствие

![[Pasted image 20241217005550.png]]
доказали что значения правильно вычисляются на гейтах, но не доказали что гейты подключены определенным образом.
Это доказывается чуть сложнее

![[Pasted image 20241217005858.png]]
если берем перестановку и выберем числа из поля
если выполняется для случайно выбранных гамма и бета...
то числа b есть некая перестановка a

![[Pasted image 20241217010257.png]]
хотим доказать что есть 2 полинома, есть перестановка и есть еще 2 полинома на множестве H

![[Pasted image 20241217010519.png]]
проверяем что полином делится на кси в к - 1. Говорим что этот полином на нашем множестве H будет тождественный ноль. Это будет означать
- z(w) = 1
- для любого i штука будет уходить в ноль
можем все эти штуки перемножить. получится что произведения останутся, далее применяем лемму о перестановках и это будет означать, что это реальная перестановка

понятно что нам не одна нужна перестановка, но это не суть важно.

![[Pasted image 20241217010737.png]]
давайте сделаем перестановку по циклу, 
перестановки не зависят от входных параметров

![[Pasted image 20241217010849.png]]
- препроцессинг, делаем коммитменты один раз
- генерим инпут
- прувер вычисляет
- прувер вычисляет полиномы с FFT
- отсылает коммитменты
- работают 2 протокола: гейты работают верно, подключения работают верно.
- если все ок то все ок

как сделать чтобы это было одно сообщение? чтобы каждый раз не мучать доказывающего. 
каждый параметр коммуникации записываем в строку транскрипт

дальше когда нужно сгенерить случайный параметр
вместо того чтобы делать его случайным мы полагаем его хэш функцией от того что мы делали до сих пор
![[Pasted image 20241217011142.png]]

![[Pasted image 20241217011258.png]]

![[Pasted image 20241217011324.png]]
